<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Twitch</title>
    <style>
      body{
        width: 100vw;
        height: 100vh;
        margin: 0px;
      }
      .app{
        width: 100vw;
        height: 99vh;
      }


      #video_player iframe, #video_player object, #video_player embed {
         position: absolute; 
         top: 0; 
         left: 0; 
         width: 100%; 
         height: 100%;
      }

    </style>
  </head>

  <body>
    <div id="page_id" style="display: none;">TWITCH_PAGE</div>
    <div class="app">
        <div id="video_player"></div>
    </div>
  </body>
  <script src= "http://player.twitch.tv/js/embed/v1.js"></script>
  <script>
      const remote = require('electron').remote;
      const log = remote.getGlobal('logger');
      const url = require('url');
      const TAG = 'From panel_template.html - ';

      log.info(TAG, "Hello from video panel!!!");

      //get payload and parse it into object 
      const payload = url.parse(location.search, true).query;
      console.log('Payload: ', payload);

      // create player
      let player = new Twitch.Player("video_player", {
  
      });

      // play video on channel
      player.setChannel(payload.video_channel);
 
    
  </script>
</html>
